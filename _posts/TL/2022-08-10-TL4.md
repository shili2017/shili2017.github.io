---
title: TileLink笔记（四）：TL-UH
date: 2022-08-10 11:55:00 -0400
categories: [TileLink]
tags: []
img_path: /assets/img/TL/
---

TileLink无缓冲重量级（TL-UH）用于最后一级缓存之外的总线，这种应用中不需要使用权限转换的操作。TL-UH建立在TL-UL的基础上，并提供一部分额外的操作，包括：

- 原子（Atomic）操作：在原子性地读取现存的数据值的同时，同步地写入一个新的值，此新值为某些逻辑和算法操作的结果。

- 预处理（Hint）操作：提供了与某些性能优化相关的可选的提示性消息。

- 簇发（Burst）消息：允许带有比数据总线宽度更大的数据的消息在多个周期内作为数据包传输，应用于在Get、Put和原子操作中多种包含数据的消息。

下表列举了TL-UH支持的消息。

![4-1](4-1.png)
_TL-UH消息总览_

## 消息流与波形

![4-2](4-2.png)
_原子和预处理操作的信号波形图_

![4-3](4-3.png)
_原子内存访问的消息流_

![4-4](4-4.png)
_预处理操作的消息流_

## 消息

我们定义TL-UH新增的四个消息类型的信号编码。

### 算术数据（ArithmeticData）

一个算术数据消息是一个代理为对一数据块进行算术操作，先读取然后改写，而发起的 访问一块特定的数据块的请求消息，下表说明了通道A内该消息的信号编码。

![4-5](4-5.png)
_ArithmeticData消息的编码_

![4-6](4-6.png)
_ArithmeticData的param域_

### 逻辑数据（LogicalData）

一个逻辑数据消息是一个代理为对一数据块进行位逻辑操作，先读取然后改写，而发起 的访问一块特定的数据块的请求消息，下表说明了通道A内该消息的信号编码。

![4-7](4-7.png)
_LogicalData消息的编码_

![4-8](4-8.png)
_LogicalData的param域_

### 预处理（Intent）

一个Intent消息是一个代理为了表示未来的可能要访问一块特定数据块的目的而发出的请求消息，下表说明了通道A内该消息的信号编码。

![4-9](4-9.png)
_Intent消息的编码_

![4-10](4-10.png)
_Intent的param域_

### 预处理确认（HintAck）

HintAck是用于一个Hint操作的确认消息，下表说明了通道D内该消息的信号编码。

![4-11](4-11.png)
_HintAck消息的编码_
